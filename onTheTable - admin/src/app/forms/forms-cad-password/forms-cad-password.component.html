<app-alert-erro [(erro)]="erro" *ngIf="erro" ></app-alert-erro>
<div class="conteudo centralizado">
    <mat-spinner *ngIf="carregando" style="margin-top: 10%"></mat-spinner>
    <form  [formGroup]="form" class="forms centralizado" *ngIf="!carregando" >
        
        <div class="form-group">     
            <div class="inputLogin centralizado">
                <mat-form-field appearance="outline">
                    <mat-label>Senha*</mat-label>
                    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
                    <mat-error *ngIf="form.controls['password'].invalid && form.controls['password'].touched" >- Digite uma senha válida (mínimo 6 dígitos)</mat-error>
        
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                </mat-form-field>
            </div>   
            
        </div>
        <div class="form-group">     
            <div class="inputLogin centralizado">
                <mat-form-field appearance="outline">
                    <mat-label>Confirme a senha</mat-label>
                    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password2" (keyup)="compara()">
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <mat-error *ngIf="!statusSenha">{{statusMsg}}</mat-error>
        
                </mat-form-field>
            </div>   
            
        </div>
        <div class="botoesLogin centralizado">

    
            <button type="button" class="btn botaoVermelho" (click)="mudarSenha()" 
            *ngIf="form.controls['password'].valid   && (form.controls['password'].value === form.controls['password2'].value)"
                >Salvar</button>
            <button type="button" class="btn botaoVermelho btnDesativado" 
            *ngIf="form.controls['password'].invalid || (form.controls['password'].value != form.controls['password2'].value)" 
                >Salvar</button>
                <a class="centralizado" href="#/login"  >Cancelar</a>
        </div> 
        
    
    </form>

</div>

